<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sprint Goals</title>
    <!-- Google Fonts for Inter (main app) and Poppins (welcome/access) -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Poppins:wght@500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <!-- Custom Stylesheet -->
    <link rel="stylesheet" href="style.css">
</head>
<body class="theme-access"> <!-- Default theme is access screen -->

    <header class="app-header">
        <div class="header-content">
            <div class="app-brand">
                <i class="fas fa-list-check app-icon"></i>
                <span class="app-title">Sprint Goals</span>
            </div>
            <div class="header-actions" id="mainAppHeaderActions" style="display:none;"> <!-- Hidden until access granted -->
                <button id="viewSprintsBtn" class="btn btn-header btn-view-sprints active">
                    <i class="fas fa-calendar-days"></i> Sprints
                </button>
                <button id="createSprintBtn" class="btn btn-header btn-create-sprint">
                    <i class="fas fa-plus"></i> Add Sprint
                </button>
            </div>
        </div>
    </header>

    <div class="main-wrapper">
        <main class="content-container">

            <!-- New Access Code Section -->
            <section id="accessCodeSection" class="panel-card welcome-panel fade-in-up">
                <h2 class="panel-title"><i class="fas fa-lock"></i> Access Sprint Goals</h2>
                <p class="welcome-message">
                    Welcome to the Sprint Goals application! This tool helps teams define, track, and manage their sprint objectives and progress.
                    Enter the access code to continue.
                </p>
                <div class="access-code-input-group">
                    <label for="accessCodeInput" class="sr-only">Access Code</label>
                    <input type="password" id="accessCodeInput" placeholder="Enter access code" autocomplete="off">
                    <button type="button" id="accessCodeSubmitBtn" class="btn btn-primary">Continue</button>
                </div>
                <p id="accessCodeError" class="error-message" style="display:none;">Incorrect access code. Please try again.</p>
            </section>

            <!-- Original Welcome Section (shown after access code is entered) -->
            <section id="welcomeSection" class="panel-card welcome-panel fade-in-up" style="display:none;">
                <h2 class="panel-title"><i class="fas fa-handshake"></i> Welcome to Sprint Goals!</h2>
                <div class="welcome-icon-group">
                    <div class="icon-item"><i class="fas fa-eye"></i><span>Visibility</span></div>
                    <div class="icon-item"><i class="fas fa-users"></i><span>Collaboration</span></div>
                    <div class="icon-item"><i class="fas fa-chart-line"></i><span>Insights</span></div>
                </div>
                <p class="welcome-message">
                    This platform is engineered to foster unparalleled transparency and alignment across your Tech and Product teams.
                    Gain real-time visibility into every sprint, track progress with precision, and ensure every stakeholder is empowered
                    with clear insights into our collective pipeline. Build trust through clarity, drive collaboration with shared understanding,
                    and achieve your product vision with confidence.
                </p>
                <div class="welcome-actions">
                    <button id="welcomeCreateSprintBtn" class="btn btn-primary"><i class="fas fa-plus"></i> Start a New Sprint</button>
                    <button id="welcomeViewSprintsBtn" class="btn btn-secondary"><i class="fas fa-calendar-days"></i> View All Sprints</button>
                </div>
            </section>

            <!-- Create Sprint Section -->
            <section id="createSprintSection" class="panel-card create-sprint-panel" style="display:none;">
                <h2 class="form-section-title"><i class="fas fa-plus-circle"></i> Create New Sprint</h2>
                <form id="sprintForm" class="create-sprint-form">
                    <div class="form-section">
                        <div class="form-group">
                            <label for="podName">POD Name</label>
                            <select id="podName" required>
                                <option value="" disabled selected>Select a POD</option>
                                <option value="Risk Tech">Risk Tech</option>
                                <option value="Growth and Merchant Experience">Growth and Merchant Experience</option>
                                <option value="Lender Supply and Integrations">Lender Supply and Integrations</option>
                                <option value="Collections and Post Disbursal">Collections and Post Disbursal</option>
                                <option value="New Initiatives and Platform">New Initiatives and Platform</option>
                            </select>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="startDate">Sprint Start Date</label>
                                <input type="date" id="startDate" required>
                            </div>
                            <div class="form-group">
                                <label for="calculatedEndDate">Sprint End Date (Start Date + 13 days)</label>
                                <input type="text" id="calculatedEndDate" readonly placeholder="Calculated automatically">
                            </div>
                        </div>
                    </div>
                    <div class="form-section">
                        <h3 class="form-section-subtitle"><i class="fas fa-tasks"></i> Define Your Sprint Goals</h3>
                        <p class="section-description">Clearly defining goals and goal types ensures better and timely tech-driven business outcomes.</p>
                        <div class="goal-input-container">
                            <div class="goal-headers">
                                <span class="goal-header-description">Goal Description</span>
                                <span class="goal-header-type">Type</span>
                                <span class="goal-header-status">Status</span>
                            </div>
                            <div id="goalsContainer" class="goals-list"></div>
                            <div class="form-actions-inline goal-actions-bottom">
                                <span class="goal-counter"><span id="totalGoalsCount">0</span> Goals Added</span>
                                <button type="button" id="addGoal" class="btn btn-secondary btn-icon-left">
                                    <i class="fas fa-plus"></i> Add Another Goal
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="form-actions-bottom">
                        <button type="button" id="cancelSprintBtn" class="btn btn-tertiary">Cancel</button>
                        <button type="submit" class="btn btn-primary">Create Sprint</button>
                    </div>
                </form>
            </section>

            <!-- Manage Goals Section -->
            <section id="manageGoalsSection" class="panel-card manage-goals-panel" style="display:none;">
                <h2 class="form-section-title"><i class="fas fa-edit"></i> Manage Goals for <span id="managedSprintName"></span></h2>

                <div class="sprint-details-header">
                    <div class="sprint-details-dates">
                        <span><i class="fas fa-calendar-alt"></i> <strong>Start:</strong> <span id="manageSprintStartDate"></span></span>
                        <span><i class="fas fa-calendar-alt"></i> <strong>End:</strong> <span id="manageSprintEndDate"></span></span>
                    </div>
                    <div class="sprint-details-progress">
                        <div class="progress-bar-container">
                            <div id="manageSprintProgressBar" class="progress-bar-fill"></div>
                        </div>
                        <p class="progress-text">Achievement: <span id="manageSprintAchievement"></span>%</p>
                    </div>
                </div>

                <div class="form-section">
                    <h3 class="form-section-subtitle"><i class="fas fa-tasks"></i> Goals</h3>
                    <div id="manageGoalsTableContainer" class="goals-table-container">
                        <p class="empty-state">Loading goals...</p>
                        </div>
                </div>
                <div class="form-actions-bottom">
                    <button type="button" id="backToSprintsBtn" class="btn btn-tertiary">Back to Sprints</button>
                    <button type="button" id="saveGoalsBtn" class="btn btn-primary">Save Changes</button>
                </div>
            </section>

            <!-- Current & Upcoming Sprints Section -->
            <section id="currentUpcomingSprintsSection" class="panel-card sprints-list-panel" style="display:none;">
                <h2 class="panel-title"><i class="fas fa-hourglass-start"></i> Current & Upcoming Sprints</h2>
                <div id="currentSprintsList" class="sprint-cards-container">
                    <p class="empty-state">Loading sprints...</p>
                </div>
            </section>

            <!-- Past Sprints Section -->
            <section id="pastSprintsSection" class="panel-card sprints-list-panel" style="display:none;">
                <h2 class="panel-title"><i class="fas fa-box-archive"></i> Past Sprints</h2>
                <div id="pastSprintsList" class="sprint-cards-container">
                    <p class="empty-state">Loading past sprints.</p>
                </div>
            </section>

        </main>
    </div>

    <div id="toast-container"></div>

    <script src="script.js"></script>
</body>
</html>
